<div class="container">
  <div class="header">
    <svg width="120" height="32" viewBox="0 0 46 12" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M2.14286 0C3.32631 0 4.28571 0.976818 4.28571 2.18182C4.28571 2.26595 4.28101 2.34898 4.27192 2.43064C4.26315 2.50938 4.25027 2.58681 4.23346 2.66279L5.99585 4.45722L8.85832 1.54278C9.69511 0.690707 11.0519 0.690707 11.8888 1.54278L7.51112 6L11.8888 10.4572C11.0519 11.3093 9.69511 11.3093 8.85832 10.4572L5.99592 7.54275L4.23346 9.33721C4.24026 9.36811 4.24648 9.39924 4.25197 9.4306C4.25831 9.46649 4.26381 9.50271 4.26838 9.53923C4.27983 9.63058 4.28571 9.7237 4.28571 9.81818C4.28571 11.0232 3.32631 12 2.14286 12C0.959407 12 0 11.0232 0 9.81818C0 8.61318 0.959407 7.63636 2.14286 7.63636C2.36396 7.63636 2.57721 7.67045 2.77784 7.73374L4.48066 6L2.77784 4.26626C2.57721 4.32955 2.36396 4.36364 2.14286 4.36364C0.959407 4.36364 0 3.38682 0 2.18182C0 0.976818 0.959407 0 2.14286 0ZM2.14286 1.09091C2.73461 1.09091 3.21429 1.57933 3.21429 2.18182C3.21429 2.7843 2.73461 3.27273 2.14286 3.27273C1.5511 3.27273 1.07143 2.7843 1.07143 2.18182C1.07143 1.57933 1.5511 1.09091 2.14286 1.09091ZM3.21429 9.81818C3.21429 10.4207 2.73461 10.9091 2.14286 10.9091C1.5511 10.9091 1.07143 10.4207 1.07143 9.81818C1.07143 9.2157 1.5511 8.72727 2.14286 8.72727C2.73461 8.72727 3.21429 9.2157 3.21429 9.81818Z" fill="#009dff"/>
      <path d="M9.64286 5.45455H11.7857V6.54545H9.64286V5.45455Z" fill="#009dff"/>
      <path d="M12.8571 5.45455H15V6.54545H12.8571V5.45455Z" fill="#009dff"/>
      <path d="M24.4443 10H26.002V1.75H24.4443V10Z" fill="#009dff"/>
      <path d="M21.4312 7.25C21.646 7.41113 21.7534 7.64388 21.7534 7.94824C21.7534 8.22754 21.646 8.44596 21.4312 8.60352C21.2163 8.75749 20.9173 8.83447 20.5342 8.83447C19.5029 8.83447 18.9873 8.403 18.9873 7.54004H17.3706C17.3706 8.04492 17.4995 8.48893 17.7573 8.87207C18.0187 9.25521 18.3965 9.55778 18.8906 9.77979C19.3848 9.99821 19.9326 10.1074 20.5342 10.1074C21.4007 10.1074 22.09 9.91585 22.6021 9.53271C23.1141 9.146 23.3701 8.61426 23.3701 7.9375C23.3701 7.32878 23.1606 6.82031 22.7417 6.41211C22.3228 6.00391 21.6549 5.66195 20.7383 5.38623C20.2406 5.23584 19.8628 5.07471 19.605 4.90283C19.3507 4.73096 19.2236 4.5179 19.2236 4.26367C19.2236 3.99154 19.3328 3.77311 19.5513 3.6084C19.7697 3.4401 20.0758 3.35596 20.4697 3.35596C20.8779 3.35596 21.1948 3.45622 21.4204 3.65674C21.646 3.85368 21.7588 4.13119 21.7588 4.48926H23.3701C23.3701 4.02018 23.2484 3.60124 23.0049 3.23242C22.765 2.86361 22.4266 2.57894 21.9897 2.37842C21.5529 2.17432 21.0552 2.07227 20.4966 2.07227C19.9416 2.07227 19.4403 2.16536 18.9927 2.35156C18.5487 2.53776 18.2067 2.79736 17.9668 3.13037C17.7305 3.4598 17.6123 3.83577 17.6123 4.2583C17.6123 5.07113 18.0563 5.71745 18.9443 6.19727C19.2702 6.37272 19.7124 6.55176 20.271 6.73438C20.8296 6.91341 21.2163 7.08529 21.4312 7.25Z" fill="#009dff"/>
      <path d="M27.3662 10V4.18848H28.9238V10H27.3662Z" fill="#009dff"/>
      <path d="M27.2749 2.68457C27.2749 2.45182 27.3519 2.26025 27.5059 2.10986C27.6634 1.95947 27.8765 1.88428 28.145 1.88428C28.41 1.88428 28.6213 1.95947 28.7788 2.10986C28.9364 2.26025 29.0151 2.45182 29.0151 2.68457C29.0151 2.9209 28.9346 3.11426 28.7734 3.26465C28.6159 3.41504 28.4064 3.49023 28.145 3.49023C27.8836 3.49023 27.6724 3.41504 27.5112 3.26465C27.3537 3.11426 27.2749 2.9209 27.2749 2.68457Z" fill="#009dff"/>
      <path d="M33.3228 8.61963C33.1437 8.77718 32.911 8.85596 32.6245 8.85596C32.2521 8.85596 31.9746 8.72526 31.792 8.46387C31.6094 8.20247 31.5181 7.77279 31.5181 7.1748V7.01367C31.5181 6.42285 31.6094 5.99674 31.792 5.73535C31.9782 5.47038 32.2521 5.33789 32.6138 5.33789C32.9074 5.33789 33.1437 5.43278 33.3228 5.62256C33.5018 5.80876 33.5949 6.05225 33.6021 6.35303H35.0576C35.0505 5.66553 34.8267 5.11589 34.3862 4.7041C33.9494 4.28874 33.3675 4.08105 32.6406 4.08105C31.8099 4.08105 31.1564 4.34782 30.6802 4.88135C30.2039 5.41488 29.9658 6.12923 29.9658 7.02441V7.12646C29.9658 8.05745 30.2057 8.78792 30.6855 9.31787C31.1654 9.84424 31.8206 10.1074 32.6514 10.1074C33.0954 10.1074 33.5 10.0179 33.8652 9.83887C34.2341 9.65625 34.5241 9.40202 34.7354 9.07617C34.9466 8.74675 35.054 8.38509 35.0576 7.99121H33.6021C33.5949 8.2526 33.5018 8.46208 33.3228 8.61963Z" fill="#009dff"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M38.6187 10.1074C37.7664 10.1074 37.0718 9.84603 36.5347 9.32324C36.0011 8.80046 35.7344 8.104 35.7344 7.23389V7.0835C35.7344 6.49984 35.8472 5.97884 36.0728 5.52051C36.2983 5.05859 36.617 4.7041 37.0288 4.45703C37.4442 4.20638 37.9168 4.08105 38.4468 4.08105C39.2417 4.08105 39.8665 4.33171 40.3213 4.83301C40.7796 5.33431 41.0088 6.04508 41.0088 6.96533V7.59912H37.3081C37.3582 7.97868 37.5086 8.28304 37.7593 8.51221C38.0135 8.74137 38.334 8.85596 38.7207 8.85596C39.3187 8.85596 39.786 8.63932 40.1226 8.20605L40.8853 9.06006C40.6525 9.38949 40.3374 9.6473 39.9399 9.8335C39.5425 10.0161 39.1021 10.1074 38.6187 10.1074ZM38.4414 5.33789C38.1335 5.33789 37.8828 5.44173 37.6895 5.64941C37.4997 5.8571 37.3779 6.1543 37.3242 6.54102H39.4834V6.41748C39.4762 6.07373 39.3831 5.80876 39.2041 5.62256C39.0251 5.43278 38.7708 5.33789 38.4414 5.33789Z" fill="#009dff"/>
      <path d="M44.6021 5.60107C44.7632 5.60107 44.9494 5.6154 45.1606 5.64404L45.1821 4.15088C45.0317 4.10433 44.8706 4.08105 44.6987 4.08105C44.1473 4.08105 43.7158 4.34782 43.4043 4.88135L43.3613 4.18848H41.895V10H43.4473V6.19727C43.6299 5.7998 44.0148 5.60107 44.6021 5.60107Z" fill="#009dff"/>
      </svg>
      
  </div>
  <p>Select all layers you want to slice, set the size or padding and then click on the slice button. ;)</p>
  
  <div class="interaction">
     <label>
       <input type="radio" name="option" class="select-input" id="padding-option" checked onclick="hidesize();">
       <div class="select-item first-option">Padding</div>
     </label>
     <label>
        <input type="radio" name="option" class="select-input" id="slice-size" onclick="hidepadding();">
        <div class="select-item second-option">Slice size</div>
      </label>
  </div>
  
  <div class="padding-slice">
    <input type="input" class="input" id="padding" value="0" autofocus>
  </div>
  


  <div class="size-slice" id="sizediv" >
    <input type="input" class="input" id="size-w" value="0">
    <input type="input" class="input" id="size-h" value="0">
  </div>
  

  <div class="bottom">
    <a href="https://www.behance.net/renatoaraujo" target="blank">Hi!</a>

    <div class="buttons">
    <button class="link" id="cancel">Cancel</button>
    <button class="primary" id="slice" onclick="slice();">Slice</button>
    </div>
      
  </div>
</div>

<script>

if (document.getElementById('padding-option').checked){
  document.querySelector(".size-slice").style.display = "none";
}

function hidepadding(){
  document.querySelector(".padding-slice").style.display = "none";
  document.querySelector(".size-slice").style.display = "flex";
}

function hidesize(){
  document.querySelector(".size-slice").style.display = "none";
  document.querySelector(".padding-slice").style.display = "block";
}


  function slice() {
    if (document.getElementById('padding-option').checked){
      const textbox = document.getElementById('padding');
      const padding = parseInt(textbox.value);
      parent.postMessage({ pluginMessage: { type: 'slicepadding', padding } }, '*')
    }else if (document.getElementById('slice-size').checked){
      const width = document.getElementById('size-w');
      const height = document.getElementById('size-h');
      const w = parseInt(width.value);
      const h = parseInt(height.value);
      parent.postMessage({ pluginMessage: { type: 'slicesize', w, h } }, '*')
    } 
  }


document.getElementById('cancel').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
}



const input = document.getElementById("padding");
input.addEventListener("keyup", function(event){
  if(event.keyCode === 13){
    event.preventDefault();
    document.getElementById("slice").click();
  }
});

</script>


<style>
  * {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  
  margin:0;
  padding:0;
  font-family: roboto;
  }

  :focus{
    outline: none;
  }

  svg{
    display: inline-block;
    color: #009dff;
  }


  .header{
    height: 32px;
    display: flex;
    align-items: center;
  }


  p{
    font-size: .78rem;
    color: #999999;
    margin-top: 8px;

    user-select: none; /* supported by Chrome and Opera */
   -webkit-user-select: none; /* Safari */
   -khtml-user-select: none; /* Konqueror HTML */
   -moz-user-select: none; /* Firefox */
   -ms-user-select: none; /* Internet Explorer/Edge */
  }

  a{
    text-decoration: none;
    margin:0;
    font-weight: 700;
    font-size: .75rem;
    float: left;
    color:rgba(0,0,0,.12);
    transition: color 0.5s;
  }

  a:hover{
    color: #009dff;
  }

  span{
    font-size: .80rem;
    color: #666666;
    font-weight: 400;
    display: block;
    margin-top: 16px;
    

  }

  .container{
    padding: 16px;
  }

  .input{
    margin-top: 8px;
    font-size: .80rem;
    border-style: solid;
    border-radius: 4px;
    border-width: 1px;
    border-color: #cccccc;
    height: 38px;
    padding: 8px;
    width: 100%;
  }

  Select option{
    border-radius: 4px;
  }

  input:focus{
    border-color:#009dff;
    box-sizing: border-box;
    border-width: 2px
  }

  button{
    border-style: none;
    border-radius: 4px;
    padding: 8px 16px;
    margin-left: 8px;

    display: inline-flex;

  }

  .primary{
    color: white;
    background-color:#009dff;
  }

  .link{
    background-color: transparent;
    color: #666666;
    border-style: solid;
    border-width: 1;
    border-color: transparent;
  }

  .primary:hover {
    background-color: #47b9ff;
    cursor: pointer;
  }

  .link:hover{
    box-sizing: border-box;
    border-style: solid;
    border-width: 1px;
    border-radius: 4px;
    border-color: #cccccc;
    cursor:pointer;
  }


  .bottom{
    margin-top: 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .buttons{
    display: block;
  }

.interaction{
  margin-top: 16px;
  display: flex;
}

.select-input {
  display: none;
}

.select-input:checked + .select-item{
  background-color: #009dff;
  color: white;
}

label{
  flex-grow: 1;
  user-select: none; /* supported by Chrome and Opera */
   -webkit-user-select: none; /* Safari */
   -khtml-user-select: none; /* Konqueror HTML */
   -moz-user-select: none; /* Firefox */
   -ms-user-select: none; /* Internet Explorer/Edge */
}

.select-item{
  box-sizing: border-box;
  border-style: solid;
  border-width: 1px;
  border-color: #009dff;
  align-items: center;
  font-size: .80rem;
  color: #666666;
  padding: 4px;
  text-align: center;
}

.first-option{
  border-radius: 4px 0 0 4px;
}

.second-option{
  border-radius: 0 4px 4px 0;
}

.select-item:hover{
  cursor: pointer;
}

.size-slice{
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}


.size-slice .input:first-child{
  margin-right: 8px;
}




.padding{
  width:100%;
}
</style>